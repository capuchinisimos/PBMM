!function(t){"use strict";var r,e=/^[a-z]+:/,o=/[-a-z0-9]+(\.[-a-z0-9])*:\d+/i,n=/\/\/(.*?)(?::(.*?))?@/,i=/^win/i,a=/:$/,s=/^\?/,p=/^#/,h=/(.*\/)/,u=/^\/{2,}/,c=/(^\/?)/,f=/'/g,l=/%([ef][0-9a-f])%([89ab][0-9a-f])%([89ab][0-9a-f])/gi,y=/%([cd][0-9a-f])%([89ab][0-9a-f])/gi,d=/%([0-7][0-9a-f])/gi,g=/\+/g,v=/^\w:$/,m=/[^/#?]/,q="undefined"==typeof window&&"undefined"!=typeof global&&"function"==typeof require,w=!q&&t.navigator&&t.navigator.userAgent&&~t.navigator.userAgent.indexOf("MSIE"),A=q?t.require:null,I={protocol:"protocol",host:"hostname",port:"port",path:"pathname",query:"search",hash:"hash"},C={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443};function S(){return q?r=r||"file://"+(process.platform.match(i)?"/":"")+A("fs").realpathSync("."):"about:srcdoc"===document.location.href?self.parent.document.location.href:document.location.href}function b(t){return encodeURIComponent(t).replace(f,"%27")}function x(t){return(t=(t=(t=t.replace(g," ")).replace(l,(function(t,r,e,o){var n=parseInt(r,16)-224,i=parseInt(e,16)-128;if(0==n&&i<32)return t;var a=(n<<12)+(i<<6)+(parseInt(o,16)-128);return 65535<a?t:String.fromCharCode(a)}))).replace(y,(function(t,r,e){var o=parseInt(r,16)-192;if(o<2)return t;var n=parseInt(e,16)-128;return String.fromCharCode((o<<6)+n)}))).replace(d,(function(t,r){return String.fromCharCode(parseInt(r,16))}))}function j(t){for(var r=t.split("&"),e=0,o=r.length;e<o;e++){var n=r[e].split("="),i=decodeURIComponent(n[0].replace(g," "));if(i){var a=void 0!==n[1]?x(n[1]):null;void 0===this[i]?this[i]=a:(this[i]instanceof Array||(this[i]=[this[i]]),this[i].push(a))}}}function z(t,r){!function(t,r,i){var f,l,y;r=r||S(),q?f=A("url").parse(r):(f=document.createElement("a")).href=r;var d,g,v=(g={path:!0,query:!0,hash:!0},(d=r)&&e.test(d)&&(g.protocol=!0,g.host=!0,o.test(d)&&(g.port=!0),n.test(d)&&(g.user=!0,g.pass=!0)),g);for(l in y=r.match(n)||[],I)v[l]?t[l]=f[I[l]]||"":t[l]="";if(t.protocol=t.protocol.replace(a,""),t.query=t.query.replace(s,""),t.hash=x(t.hash.replace(p,"")),t.user=x(y[1]||""),t.pass=x(y[2]||""),t.port=C[t.protocol]==t.port||0==t.port?"":t.port,!v.protocol&&m.test(r.charAt(0))&&(t.path=r.split("?")[0].split("#")[0]),!v.protocol&&i){var b=new z(S().match(h)[0]),E=b.path.split("/"),F=t.path.split("/"),U=["protocol","user","pass","host","port"],L=U.length;for(E.pop(),l=0;l<L;l++)t[U[l]]=b[U[l]];for(;".."===F[0];)E.pop(),F.shift();t.path=("/"!==r.charAt(0)?E.join("/"):"")+"/"+F.join("/")}t.path=t.path.replace(u,"/"),w&&(t.path=t.path.replace(c,"/")),t.paths(t.paths()),t.query=new j(t.query)}(this,t,!r)}j.prototype.toString=function(){var t,r,e="",o=b;for(t in this){var n=this[t];if(!(n instanceof Function||void 0===n))if(n instanceof Array){var i=n.length;if(!i){e+=(e?"&":"")+o(t)+"=";continue}for(r=0;r<i;r++){var a=n[r];void 0!==a&&(e+=e?"&":"",e+=o(t)+(null===a?"":"="+o(a)))}}else e+=e?"&":"",e+=o(t)+(null===n?"":"="+o(n))}return e},z.prototype.clearQuery=function(){for(var t in this.query)this.query[t]instanceof Function||delete this.query[t];return this},z.prototype.queryLength=function(){var t=0;for(var r in this.query)this.query[r]instanceof Function||t++;return t},z.prototype.isEmptyQuery=function(){return 0===this.queryLength()},z.prototype.paths=function(t){var r,e="",o=0;if(t&&t.length&&t+""!==t){for(this.isAbsolute()&&(e="/"),r=t.length;o<r;o++)t[o]=!o&&v.test(t[o])?t[o]:b(t[o]);this.path=e+t.join("/")}for(o=0,r=(t=("/"===this.path.charAt(0)?this.path.slice(1):this.path).split("/")).length;o<r;o++)t[o]=x(t[o]);return t},z.prototype.encode=b,z.prototype.decode=x,z.prototype.isAbsolute=function(){return this.protocol||"/"===this.path.charAt(0)},z.prototype.toString=function(){return(this.protocol&&this.protocol+"://")+(this.user&&b(this.user)+(this.pass&&":"+b(this.pass))+"@")+(this.host&&this.host)+(this.port&&":"+this.port)+(this.path&&this.path)+(this.query.toString()&&"?"+this.query)+(this.hash&&"#"+b(this.hash))},t[t.exports?"exports":"Url"]=z}("undefined"!=typeof module&&module.exports?module:window);
//# sourceMappingURL=url.min.js.map
